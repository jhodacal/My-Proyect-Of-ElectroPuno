import i18next from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

i18next
  .use(initReactI18next)
  .use(LanguageDetector)
  .init({
    resources: {
      es: {
        translation: {
          // Traducciones generales
          'Electro Puno': 'Electro Puno',
          welcome: 'Bienvenido',
          hello: 'Hola',
          success: 'Éxito',
          error: 'Error',
          save: 'Guardar',
          cancel: 'Cancelar',
          edit: 'Editar',
          // Traducciones de login y registro
          Iniciar_sesión: 'Iniciar sesión',
          Olvidaste_contraseña: '¿Olvidaste tu contraseña?',
          Ingresa_tu_DNI: 'Ingresa tu DNI',
          Recuperar_Contraseña: 'Recuperar Contraseña',
          'no tienes cuenta?': '¿ No tienes cuenta ?',
          'Registrate Aquí': 'Regístrate aquí',
          bienvenido: 'Bienvenido, {{username}}',
          pleaseCompleteAllFields: 'Por favor, completa todos los campos',
          incorrectCredentials: 'Credenciales incorrectas',
          couldNotConnectToServer: 'No se pudo conectar al servidor',
          allFieldsRequired: 'Todos los campos son obligatorios',
          userRegisteredSuccessfully: 'Usuario registrado exitosamente',
          registrationError: 'Error en el registro',
          dniMustHave8Digits: 'El DNI debe tener 8 dígitos',
          requestError: 'Error al procesar la solicitud',
          // Traducciones del chatbot
          virtualAssistant: 'Asistente Virtual',
          virtualAssistantWelcome: '¡Hola! Soy el asistente virtual de Electro Puno. ¿En qué puedo ayudarte hoy?',
          typeMessage: 'Escribe tu mensaje...',
          chatError: 'Lo siento, hubo un error. Intenta de nuevo.',
          howToPay: '¿Cómo puedo pagar mi factura?',
          energySavingTips: 'Consejos para ahorrar energía',
          aboutElectroPuno: 'Información sobre Electro Puno',
          smartMeterInfo: 'Información sobre el medidor inteligente',
          // Traducciones del menú lateral
          myProfile: 'Mi Perfil',
          settings: 'Configuración',
          language: 'Idioma',
          paymentMethods: 'Métodos de Pago',
          qrTransactions: 'Transacciones por QR',
          notifications: 'Notificaciones',
          help: 'Ayuda',
          about: 'Acerca de',
          termsAndConditions: 'Términos y Condiciones',
          privacy: 'Privacidad',
          logout: 'Cerrar Sesión',
          // Traducciones de perfil
          phone: 'Teléfono',
          email: 'Email',
          notRegistered: 'No registrado',
          loadingData: 'Cargando datos...',
          enterYourPhone: 'Ingrese su teléfono',
          enterYourEmail: 'Ingrese su email',
          invalidEmailFormat: 'Formato de email inválido',
          phoneDigitsRequired: 'El teléfono debe tener entre 9 y 15 dígitos',
          profileUpdatedSuccessfully: 'Perfil actualizado correctamente',
          updateFunctionNotAvailable: 'Función de actualización no disponible',
          couldNotUpdateProfile: 'No se pudo actualizar el perfil',
          // Traducciones de ventanas
          consumo_en_tiempo_real: 'Consumo en tiempo real',
          'consumo en tiempo real': 'Consumo en tiempo real',
          'Analisis de Consumo': 'Análisis de Consumo',
          'Historial de Consumo': 'Historial de Consumo',
          'Comparaciones y Tendencias  ': 'Comparaciones y Tendencias',
          'Diagnosticos y Mantenimiento': 'Diagnósticos y Mantenimiento',
          'Alertas y Notificaciones': 'Alertas y Notificaciones',
          'Pagos por QR': 'Pagos por QR',
          'proveedores': 'Proveedores',
          'configuración': 'Configuración',
          'Ayuda': 'Ayuda',
          //pantalla de consumo en tiempo real
          'Connecting to MQTT server...': 'conectando al servidor MQTT...',
          'Energy Monitor':'Monitor de Energía',
          'Voltage':'Voltaje',
          'Current':'Corriente',
          'Power':'Potencia',
          'Voltage Trend':'Tendencia de voltaje',
          'Current Trend':'Tendencia de Corriente',
          'Power Trend':'Tendencia de Potencia',
          'Connected to MQTT - Real-time data':'Conectado a MQTT: datos en tiempo real',
          //ventana de analisis de consumo
          'refrigerator':'refrigerador',
          'airConditioner': 'aire acondicionado',
          'washingMachine':'lavadora',
          'lighting':'iluminación',
          'television':'televisión',
          'otherDevices': 'otros dispositivos',
          'recommendationRefrigerator':'Recomendación Refrigerador',
          'recommendationAC':'Recomendación AC',
          'recommendationStandby':'RecomendaciónEn espera' ,
          'recommendationLighting':'Recomendación Iluminación',
          'recommendationPeakHours':'Recomendación Horas Pico',
          'shareAnalysis': 'Análisis de acciones',
          'shareAnalysisConfirmation': 'Confirmación de análisis compartido',
          'cancel': 'Cancelar',
          'share': 'Compartir',
          'success':  'Éxito',
          'analysisShared':'análisis Compartido',
          'generateReport':'Generar Informe',
          'generateReportConfirmation':'Generar Inform de Confirmación',
          'generate':'Generar',
          'reportGenerated':'Reporte Generado',
          'Analisis de Consumo':'Analisis de Consumo',
          'Analizando el consumo ...':'Analizando el consumo ...',
          'today':'Hoy',
          'daily':'Diariamente',
          'weekly':'Semanalmente',
          'monthly':'Mensualmente',
          'consumptionSummary':'Resumen de consumo',
          'totalConsumption':  'Consumo total',
          'estimatedCost':'Costo estimado',
          'activePeriod':'Período activo',
          'currentWeek':'Semana actual',
          'currentMonth': 'Mes actual',
          'consumptionDistribution':'Distribución del consumo',
          'devicesList': 'Lista de dispositivos',
          'savingRecommendations':  'guardar recomendaciones',
          'shareAnalysis':'Análisis de acciones',
          //  ventana de historial de consumo
          'monday':'Lunes',
          'tuesday':'Martes',
          'wednesday':'Miercoles',
          'thursday':'Jueves',
          'friday':'Viernes',
          'saturday':'Sábado',
          'sunday':'Domingo',
          'january':'Enero',
          'february':'Febrero',
          'march':'Marzo',
          'april':'Abril',
          'may':'Mayo',
          'june':'Junio',
          'july':'Julio',
          'august':'Agosto',
          'september':'Setiembre',
          'october':'Octubre',
          'november':'Noviembre',
          'december':'Diciembre',
          'week':'Semana',
          'Historial de Consumo': 'Historial de Consumo',
          'yearly':'Anualmente',
          'totalConsumption':'Total de Consumo',
          'estimatedCost':'Costo Estimado',
          'comparedToPrevious':'comparado con el anterior',
          'consumptionTrend' :'Tendencia de consumo',
          'consumptionDistribution'  : 'consumo Distribución',
          'detailedConsumption' :  'Consumo detallado',

          'date':  'fecha' ,
          'consumption' : 'consumo',
          'cost' :  'costo',
          'exportSuccessful'  : 'exportación exitosa',
          'reportShared'  : 'informe compartido',
          'loading':'Cargando',

          idioma: 'Idioma',
        },
      },
      en: {
        translation: {
          // General translations
          'Electro Puno': 'Electro Puno',
          welcome: 'Welcome',
          hello: 'Hello',
          success: 'Success',
          error: 'Error',
          save: 'Save',
          cancel: 'Cancel',
          edit: 'Edit',
          // Login and registration translations
          Iniciar_sesión: 'Log in',
          'Olvidaste_contraseña?': 'Forgot your password?',
          Ingresa_tu_DNI: 'Enter your DNI',
          Recuperar_Contraseña: 'Recover Password',
          'no tienes cuenta?': 'Don\'t have an account?',
          'Registrate Aquí': 'Register here',
          bienvenido: 'Welcome, {{username}}',
          pleaseCompleteAllFields: 'Please fill in all fields',
          incorrectCredentials: 'Incorrect credentials',
          couldNotConnectToServer: 'Could not connect to the server',
          allFieldsRequired: 'All fields are required',
          userRegisteredSuccessfully: 'User registered successfully',
          registrationError: 'Registration error',
          dniMustHave8Digits: 'DNI must have 8 digits',
          requestError: 'Error processing the request',
          // Chatbot translations
          virtualAssistant: 'Virtual Assistant',
          virtualAssistantWelcome: 'Hello! I\'m the Electro Puno virtual assistant. How can I help you today?',
          typeMessage: 'Type your message...',
          chatError: 'Sorry, there was an error. Try again.',
          howToPay: 'How can I pay my bill?',
          energySavingTips: 'Energy saving tips',
          aboutElectroPuno: 'Information about Electro Puno',
          smartMeterInfo: 'Information about the smart meter',
          // Side menu translations
          myProfile: 'My Profile',
          settings: 'Settings',
          language: 'Language',
          paymentMethods: 'Payment Methods',
          qrTransactions: 'QR Transactions',
          notifications: 'Notifications',
          help: 'Help',
          about: 'About',
          termsAndConditions: 'Terms and Conditions',
          privacy: 'Privacy',
          logout: 'Log Out',
          // Profile translations
          phone: 'Phone',
          email: 'Email',
          notRegistered: 'Not registered',
          loadingData: 'Loading data...',
          enterYourPhone: 'Enter your phone',
          enterYourEmail: 'Enter your email',
          invalidEmailFormat: 'Invalid email format',
          phoneDigitsRequired: 'Phone must have between 9 and 15 digits',
          profileUpdatedSuccessfully: 'Profile updated successfully',
          updateFunctionNotAvailable: 'Update function not available',
          couldNotUpdateProfile: 'Could not update profile',
          // Window translations
          consumo_en_tiempo_real: 'Real-time consumption',
          'consumo en tiempo real': 'Real-time consumption',
          'Analisis de Consumo': 'Consumption Analysis',
          'Historial de Consumo': 'Consumption History',
          'Comparaciones y Tendencias  ': 'Comparisons and Trends',
          'Diagnosticos y Mantenimiento': 'Diagnostics and Maintenance',
          'Alertas y Notificaciones': 'Alerts and Notifications',
          'Pagos por QR': 'QR Payments',
          'proveedores': 'Suppliers',
          'configuración': 'Settings',
          'Ayuda': 'Help',
          //ventana de consumo en tiempo real
          'Connecting to MQTT server...': 'Connecting to MQTT server...',
          'Energy Monitor':'Energy Monitor',
          'Voltage':'Voltage',
          'Current':'Current',
          'Power':'Power',
          'Voltage Trend':'Voltage Trend',
          'Current Trend':'Current Trend',
          'Power Trend':'Power Trend',
          'Connected to MQTT - Real-time data':'Connected to MQTT - Real-time data',
          'Updating...':'Actualizando...',
          'Error subscribing to topic':'Error al suscribirse al tema',
          'Invalid data received':'Se recibieron datos no válidos',
          //ventana de analisis de consumo
          'refrigerator':'Refrigerator',
          'airConditioner': 'Air Conditioner',
          'washingMachine':'Washing Machine',
          'lighting': 'Lighting',
          'television':'Televisión',
          'otherDevices': 'Other Devices',
          'recommendationRefrigerator':'Recommendation Refrigerator',
          'recommendationAC':'Recommendation AC',
          'recommendationStandby':'recommendation Standby' ,
          'recommendationLighting':'recommendation Lighting',
          'recommendationPeakHours':'Recommendation Peak Hours',
          'shareAnalysis': 'Share Analysis',
          'shareAnalysisConfirmation': 'Share Analysis Confirmation',
          'cancel': 'Cancel',
          'share': 'Share',
          'success':  'Success',
          'analysisShared':'Analysis Shared',
          'generateReport':'Generate Report',
          'generateReportConfirmation':'Generate Report Confirmation',
          'generate':'Generate',
          'reportGenerated':'Report Generated',
          'Analisis de Consumo':'Analysis consumption',
          'Analizando el consumo ...':'Analyzing consumption...',      
          'today':'Today',
          'daily':'Daily',
          'weekly':'Weekly',
          'monthly':'Monthly',
          'consumptionSummary':'Consumption Summary',
          'totalConsumption':'Total Consumption',
          'estimatedCost':'Estimated Cost',
          'activePeriod':'Active Period',
          'currentWeek':'Current Week',
          'currentMonth': 'Current Month',
          'consumptionDistribution':'Consumption Distribution',
          'devicesList': 'Devices List',
          'savingRecommendations': 'Saving Recommendations',
          'shareAnalysis':'Share Analysis',
         //  ventana de historial de consumo
          'monday':'monday',
          'tuesday':'tuesday',
          'wednesday':'wednesday',
          'thursday':'thursday',
          'friday':'friday',
          'saturday':'saturday',
          'sunday':'sunday',
          'january':'january',
          'february':'february',
          'march':'march',
          'april':'april',
          'may':'may',
          'june':'june',
          'july':'july',
          'august':'august',
          'september':'september',
          'october':'october',
          'november':'november',
          'december':'december',
          'week':'week',
          'Historial de Consumo': 'Consumption History',
          'yearly':'yearly',
          'totalConsumption':'Total Consumption',
          'estimatedCost':'Estimated Cost',
          'comparedToPrevious':'Compared To Previous',
          'consumptionTrend' :'Consumption Trend',
          'consumptionDistribution'  : 'Consumption Distribution',
          'detailedConsumption' :  'Detailed Consumption',

          'date':  'date' ,
          'consumption' : 'consumption',
          'cost' :  'cost',
          'exportSuccessful'  : 'export Successful',
          'reportShared'  : 'Report Shared',
          'loading': 'loading',
          idioma: 'Language',
        },
      },
      qu: {
        translation: {
          // Traducciones generales
          'Electro Puno': 'Electro Puno',
          welcome: 'Allin hamusqayki',
          hello: 'Rimaykullayki',
          success: 'Allin ruwasqa',
          error: 'Pantasqa',
          save: 'Waqaychay',
          cancel: 'Qipachiy',
          edit: 'Allichay',
          // Traducciones de login y registro
          Iniciar_sesión: 'Yaykuy',
          'Olvidaste_contraseña?': '¿Qunqarqankichu imayna yaykunaykita?',
          Ingresa_tu_DNI: 'DNIykita yaykuchiy',
          Recuperar_Contraseña: 'Imayna Yaykunata Kutichiy',
          'no tienes cuenta?': '¿Manachu cuenta kanki?',
          'Registrate Aquí': 'Kaypi qillqakuy',
          bienvenido: 'Allin hamusqayki, {{username}}',
          pleaseCompleteAllFields: 'Ama hina kaspa, llapan k\'itita hunt\'ay',
          incorrectCredentials: 'Mana allin yaykuna',
          couldNotConnectToServer: 'Mana servidorwan tinkuyta atikunchu',
          allFieldsRequired: 'Llapan k\'itikuna qillqakunapaqmi',
          userRegisteredSuccessfully: 'Runa allin qillqakusqa',
          registrationError: 'Qillqakuy pantasqa',
          dniMustHave8Digits: 'DNIqa pusaq yupayniyuq kanan',
          requestError: 'Mana allin mañasqa',
          // Traducciones del chatbot
          virtualAssistant: 'Yanapaq Masina',
          virtualAssistantWelcome: '¡Rimaykullayki! Electro Punop yanapaq masinan kani. ¿Imaynatataq kunan yanapaykiman?',
          typeMessage: 'Willakuyta qillqay...',
          chatError: 'Pampachaykuway, pantasqa karqa. Hukmanta ruray.',
          howToPay: '¿Imaynatataq factura pagayta atini?',
          energySavingTips: 'Kallpa waqaychaypaq yuyaykuna',
          aboutElectroPuno: 'Electro Punomanta willakuy',
          smartMeterInfo: 'Yuyaysapa medidormanta willakuy',
          // Traducciones del menú lateral
          myProfile: 'Ñuqamanta',
          settings: 'Allichaykuna',
          language: 'Simi',
          paymentMethods: 'Pagana Ñankuna',
          qrTransactions: 'QR Ruwaykuna',
          notifications: 'Willakuykuna',
          help: 'Yanapay',
          about: 'Kaymantan',
          termsAndConditions: 'Kamachikuykuna',
          privacy: 'Sapalla Kay',
          logout: 'Lluqsiy',
          // Traducciones de perfil
          phone: 'Telefono',
          email: 'Email',
          notRegistered: 'Mana qillqasqachu',
          loadingData: 'Willakuykuna chaskispa...',
          enterYourPhone: 'Telefonoykita yaykuchiy',
          enterYourEmail: 'Emailniykita yaykuchiy',
          invalidEmailFormat: 'Mana allin email',
          phoneDigitsRequired: 'Telefonoqa isqun yupaymanta chunka pisqayuq yupaykama kanan',
          profileUpdatedSuccessfully: 'Qampa willakuyniyki allin musuqchasqa',
          updateFunctionNotAvailable: 'Musuqchana mana kanchu',
          couldNotUpdateProfile: 'Mana willakuyta musuqchayta atikunchu',
          // Traducciones de ventana d
          consumo_en_tiempo_real: 'Kunan pachapi kallpa hapiy',
          'consumo en tiempo real': 'Kunan pachapi kallpa hapiy',
          'Analisis de Consumo': 'Kallpa Hapiy Qhaway',
          'Historial de Consumo': 'Kallpa Hapiy Yuyarina',
          'Comparaciones y Tendencias  ': 'Tupachikuna Puririykunapas',
          'Diagnosticos y Mantenimiento': 'Qhawarina Waqaychaypas',
          'Alertas y Notificaciones': 'Willakuykuna',
          'Pagos por QR': 'QR Pagokuna',
          'proveedores': 'Qukuna',
          'configuración': 'Allichaykuna',
          'Ayuda': 'Yanapay',
   
          idioma: 'Simi',
        },
      },
      ay: {
        translation: {
          // Traducciones generales
          'Electro Puno': 'Electro Puno',
          welcome: 'Aski urukipan',
          hello: 'Kamisaraki',
          success: 'Jichha',
          error: 'Pantja',
          save: 'Uñtayaña',
          cancel: 'Jarjtaña',
          edit: 'Kunayaña',
          // Traducciones de login y registro
          Iniciar_sesión: 'Uñtataña',
          Olvidaste_contraseña: '¿Janiw amtasiñamti?', // Fixed key to match others
          Ingresa_tu_DNI: 'DNImax yatiyawi',
          Recuperar_Contraseña: 'Amtasiña kuttayaña',
          'no tienes cuenta?': '¿Janiw cuentamax utjkiti?',
          'Registrate Aquí': 'Kunats qillqtayaña',
          bienvenido: 'Aski urukipan, {{username}}',
          pleaseCompleteAllFields: 'Ukat janiw pantjasipkiti, taqpach qillqayaña',
          incorrectCredentials: 'Pantjata yatiyawinaka',
          couldNotConnectToServer: 'Janiw servidor tuqir saraskiti',
          allFieldsRequired: 'Taqpach qillqatanakax wakiskiri',
          userRegisteredSuccessfully: 'Jichha qillqtata',
          registrationError: 'Qillqtata pantja',
          dniMustHave8Digits: 'DNIjax kimsaqallq tunkanirakiwa',
          requestError: 'Janiw aski saraskiti',
          // Traducciones del chatbot
          virtualAssistant: 'Yanapiri',
          virtualAssistantWelcome: '¡Kamisaraki! Nayan Electro Punon yanapirinwa. ¿Kawkirus yanaptam?',
          typeMessage: 'Arux qillqayaña...',
          chatError: 'Pampachaway, pantjawa. Maysaruw jalsutaña.',
          howToPay: '¿Kawkirus factura pagar sarasña?',
          energySavingTips: 'Ch\'amampi sayt\'ayaña',
          aboutElectroPuno: 'Electro Punon yatiyawinaka',
          smartMeterInfo: 'Yatiyiri medidorn yatiyawinaka',
          // Traducciones del menú lateral
          myProfile: 'Nayax sarawi',
          settings: 'Ajustenaka',
          language: 'Aru',
          paymentMethods: 'Pagar saränaka',
          qrTransactions: 'QR uñachirinaka',
          notifications: 'Iwxitanaka',
          help: 'Yanapaña',
          about: 'Aka tuqir mantapacha',
          termsAndConditions: 'Kamachinaka',
          privacy: 'Qhananchawi',
          logout: 'Lluqsiña',
          // Traducciones de perfil
          phone: 'Telefono',
          email: 'Correo',
          notRegistered: 'Janiw qillqtatänti',
          loadingData: 'Datonaka ch\'amanchaña...',
          enterYourPhone: 'Telefononax yatiyawi',
          enterYourEmail: 'Correonax yatiyawi',
          invalidEmailFormat: 'Janiw aski correo',
          phoneDigitsRequired: 'Telefonojax llätunkani tunka phisqani chhikani chhika tunkanirakiwa',
          profileUpdatedSuccessfully: 'Jichha sarawinax kunayata',
          updateFunctionNotAvailable: 'Janiw kunay saraskiti',
          couldNotUpdateProfile: 'Janiw sarawinax kunay saraskiti',
          // Traducciones de ventanas
          consumo_en_tiempo_real: 'Aka urunx ch\'amampi',
          'consumo en tiempo real': 'Aka urunx ch\'amampi',
          'Analisis de Consumo': 'Ch\'amax qhananchawi',
          'Historial de Consumo': 'Ch\'amax nayra sarnaqawi',
          'Comparaciones y Tendencias  ': 'Tupachirinaka ukat sarnaqawinaka',
          'Diagnosticos y Mantenimiento': 'Qhananchawinaka ukat mantinimintunaka',
          'Alertas y Notificaciones': 'Iwxitanaka',
          'Pagos por QR': 'QR pagunaka',
          'proveedores': 'Quninaka',
          'configuración': 'Ajustenaka',
          'Ayuda': 'Yanapaña',
          // Otros textos
          idioma: 'Aru',
        },
      },
    },
    lng: 'es', // Initial language
    fallbackLng: 'es', // Fallback language
    supportedLngs: ['es', 'en', 'qu', 'ay'], // Explicitly define supported languages
    interpolation: {
      escapeValue: false,
    },
    detection: {
      order: ['asyncStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],
      caches: ['asyncStorage'],
      lookupAsyncStorage: 'appLanguage', // Match AsyncStorage key used in LanguageContext
    },
    debug: true, // Enable debug mode for detailed logs
  })
  .then(() => {
    console.log('i18next initialized with languages:', i18next.languages);
    console.log('Available languages:', Object.keys(i18next.services.resourceStore.data));
    console.log('Aymara translations:', i18next.getResourceBundle('ay', 'translation'));
  })
  .catch((error) => {
    console.error('i18next initialization failed:', error);
  });

export default i18next;